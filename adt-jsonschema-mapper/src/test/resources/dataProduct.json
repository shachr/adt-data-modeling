{
  "type": "object",
  "title": "DataProduct",
  "properties": {
    "id": {
      "type": "string",
      "format": "uri",
      "description": "A unique identifier for the data product."
    },
    "devPortalProject": {
      "type": "string",
      "description": "The dev portal project of the data product, responsible for its quality and governance."
    },
    "iedmEntityUri": {
      "type": "string",
      "format": "uri",
      "description": "The IEDM entity URI that provides the semantic context for the IEDM schema."
    },
    "iedmSchemaUri": {
      "type": "string",
      "format": "uri",
      "description": "The IEDM schema document URI, providing the syntactic structure, semantic context, and compliance annotations for the data product."
    },
    "dataPort": {
      "$ref": "./dataPort.json"
    },
    "sla": {
      "type": "array",
      "items": {
        "$ref": "#/definitions/ServiceLevelObjective"
      },
      "description": "The Service Level Agreement (SLA) associated with the data product, defining expectations around data quality and availability."
    },
    "score": {
      "type": "number",
      "description": "The data product score, reflecting the overall quality, reliability, and usability of the data product based on various health dimensions."
    },
    "tags": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Tags associated with the data product to improve its discoverability."
    },
    "dataLineage": {
      "type": "array",
      "items": {
        "$ref": "#/definitions/DataLineageRecord"
      },
      "description": "The data lineage records that trace the origin, movement, and transformation of data across its lifecycle, from its creation to its final use in this data product"
    },
    "downstreamConsumers": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "List of downstream consumers that utilize the data product."
    }
  },
  "required": [
    "id",
    "name",
    "owner",
    "iedmEntityName",
    "iedmSchema",
    "dataPort",
    "sla",
    "score",
    "tags"
  ],
  "definitions": {
    "ServiceLevelObjective": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string",
          "enum": [
            "timeliness",
            "eventingStandard",
            "written"
          ]
        },
        "description": {
          "type": "string"
        },
        "value": {
          "oneOf": [
            {
              "type": "string"
            },
            {
              "type": "integer"
            },
            {
              "type": "boolean"
            }
          ]
        }
      }
    },
    "DataLineageRecord": {
      "type": "object",
      "properties": {
        "devPortalAsset": {
          "type": "string",
          "description": "The development portal asset in a data lineage record represents the system that is responsible for generating, moving, or transforming the data. It could be the system that created the data originally, a system that moves data between different systems, or a system that manipulates or transforms the data in some way. "
        },
        "inputDataPort": {
          "type": "string",
          "description": "An input data port is a part of a system that receives data from an external source, and specifically refers to the data being received. This could include data from a hosting location, or a database. In the context of data lineage, information about the input data port would be captured in the data lineage record to track the flow of data through the system or process."
        },
        "outputDataPort": {
          "type": "string",
          "description": "An output data port is a part of a system that serves data that was produced to a hosting location. In the context of data lineage, information about the output data port would be captured in the data lineage record to track the flow of data through the system."
        }
      }
    }
  }
}